# 【PHP】共有TODOリスト

https://demo.miraino-katachi.com/shared_todo_lists/login/

```
上記のユーザー名とパスワードは、

ユーザー1
ユーザー名：katachi1
パスワード：mirainokatach1

ユーザー2
ユーザー名：katachi2
パスワード：mirainokatach1

です。課題のものとは異なります。
```

CSSにはBootstrap4を使っています。

ログインが必要なTODOリストです。下記のことが練習できます。
- フォームから入力した値を送信先のページで受け取る
- セッションの使い方
- 入力値のバリデーション
- 受け取ったデータをデータベースのテーブルにインサートする、または、アップデートする
- テーブルのデータを一覧表示する

## 追加で実装していただきたい機能
- [ ] 作業一覧のペジネーション（ページャー）機能
- [ ] ユーザーの登録・修正・削除機能（管理者のみ）
- [ ] ユーザー情報変更機能

## 仕様書について
- doc/01.仕様書/01.仕様書.pdf
- doc/02.テーブル設計書/02.テーブル定義書.pdf

を御覧ください。

## 初期データ
ユーザーの登録機能は作らないので、ユーザーの初期データは下記のSQLを実行して登録してください。
```
src/sql/insert_table_users.sql
```

## HTMLの雛形
```
doc/mock/
```
以下にあるファイルをご利用ください。

HTMLフィルの拡張子を「.php」に変えて、PHPのソースを埋め込むと、効率よく学習していただけます。

## サンプルソース
```
src/
```
以下に、サンプルのソースを置いています。

## 環境設定ファイルについて
```
App\Config.php
```
で、下記の設定を行っています。

1. データベースへの接続設定
2. セッションスタート
3. クラスのファイルの自動登録機能

### クラスの自動登録機能について

spl_autoload_register()というPHPの組み込み関数を使って、クラスのファイルを自動登録できるようにしています。

自動登録したいクラスのファイルは、下記のように「use」キーワードを使います。
```
// クラスを読み込む。
use App\Util\Common;
use App\Model\Base;
use App\Model\TodoItems;
```

または、名前空間付きのクラス名で呼び出す必要があります。

```
$base = new App\Model\Base();
```

利用するクラスのファイルを自動的に登録する都合上、クラスファイルの命名規則を決める必要があります。クラス名とファイル名を一致させるようにしてください。

例）
TodoItemクラス→TodoItem.php

PHPの組み込みクラスを使うときは、クラス名の先頭に「\（バックスラッシュ）」を付ける必要があります、

例）
$date = new \Datetime();


## 命名規則
クラス名、メソッド名、変数名、定数名などは、PHPの命名規則であるPSRに準拠させています。


## 作成順序と作成期間の目安（8.5日）

学習時間は1日4時間を想定しています。

1. 仕様書を把握する → 1日
2. データベース、テーブルの作成。初期データのインサート → 1日
3. ログイン・ログアウト機能の作成 → 1日
4. 新規追加機能の作成、phpMyAdminを使ってインサートされたレコードを確認 → 1日
5. 一覧表示機能の作成 → 1日
6. 修正機能の作成 → 1日
7. 削除機能の作成 → 1日
8. 完了機能の作成 → 0.5日
9. 検索機能の作成 → 1日

